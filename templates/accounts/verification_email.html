{% extends "accounts/base.html" %}
{% load static %}
{% block content %}
<section class="min-h-screen bg-cream flex items-center justify-center p-4">
  <div class="w-full max-w-md">
    <div class="bg-white rounded-3xl shadow-2xl overflow-hidden transition transform hover:-translate-y-1 hover:shadow-3xl">
      
      <!-- Header -->
      <div class="relative bg-gradient-to-br from-primary-800 to-primary-600 text-white text-center py-10 px-6">
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.15),transparent_70%)]"></div>
        <div class="relative z-10">
          <div class="mx-auto mb-6 bg-white w-20 h-20 flex items-center justify-center rounded-full shadow-lg">
            <i class="fas fa-home text-4xl text-primary-800"></i>
          </div>
          <h1 class="text-2xl font-bold">Verify Your Email</h1>
          <p class="opacity-90 mt-2 text-sm">Welcome to House Padi — Your journey begins here!</p>
        </div>
      </div>

      <!-- Content -->
      <div class="px-6 py-10">
        <h2 class="text-primary-800 font-semibold text-lg mb-2">Hello!</h2>
        <p class="text-gray-600 text-center mb-6">
          Thank you for choosing House Padi. To activate your account and start exploring properties, please verify your email address using one of the methods below:
        </p>

        <div class="bg-gray-50 rounded-xl p-6 border-l-4 border-primary-600 shadow-sm mb-6">
          <!-- Option 1: Verification Link -->
          <div class="mb-6">
            <div class="flex items-center text-primary-800 font-semibold text-base mb-2">
              <i class="fas fa-link mr-3"></i> OPTION 1: Click the Verification Link
            </div>
            <p class="text-gray-600 text-sm mb-3">Click the button below to verify your email instantly:</p>
            <a href="{{ verification_link }}" class="block bg-primary-800 text-white py-3 rounded-xl text-center font-medium shadow-md hover:bg-primary-700 hover:-translate-y-1 transition-all duration-300 pulse">
              <i class="fas fa-check-circle mr-2"></i> Verify My Email Address
            </a>
          </div>

          <!-- Divider -->
          <div class="relative h-px bg-gray-200 my-6">
            <span class="absolute left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gray-50 px-3 text-xs text-gray-600">OR</span>
          </div>

          <!-- Option 2: OTP Code -->
          <div>
            <div class="flex items-center text-primary-800 font-semibold text-base mb-2">
              <i class="fas fa-key mr-3"></i> OPTION 2: Use Verification Code
            </div>
            <p class="text-gray-600 text-sm mb-3">Enter this code on the verification page:</p>
            <div class="bg-primary-800 text-white py-4 text-center font-mono text-2xl tracking-[0.5rem] rounded-xl shadow-inner relative overflow-hidden otp-code">
              {{ otp_code }}
            </div>
            <p class="text-gray-600 text-xs mt-2 text-center">
              Enter this 6-digit code to complete your verification
            </p>
          </div>
        </div>

        <!-- Expiry Notice -->
        <div class="bg-amber-100 border border-amber-400 text-amber-800 rounded-xl text-center py-4 px-3 shadow-sm mb-6">
          <i class="fas fa-clock text-lg mb-2"></i>
          <p class="font-semibold">This verification code will expire in 10 minutes</p>
          <p class="text-xs mt-1">For security reasons, please use it before it expires</p>
          <div id="timer" class="mt-2 font-semibold text-amber-800"></div>
        </div>

        <p class="text-center text-gray-600 text-sm">
          If you didn’t create an account with House Padi, please ignore this email.
        </p>
      </div>

      <!-- Footer -->
      <div class="bg-gray-50 text-center py-6 text-gray-600 text-sm">
        <p class="font-semibold mb-1">House Padi Team</p>
        <p class="text-xs mb-2">Finding your perfect home, made simple</p>
        <p class="text-xs">
          Need help? <a href="mailto:support@housepadi.com" class="text-primary-600 hover:text-primary-800 font-medium underline">Contact our support team</a>
        </p>
        <p class="text-xs mt-3 text-gray-500">© 2024 House Padi. All rights reserved.</p>
      </div>
    </div>
  </div>
</section>

<!-- Countdown Timer Script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  let timeLeft = 600; // 10 minutes
  const timerElement = document.getElementById('timer');

  const interval = setInterval(() => {
    const minutes = Math.floor(timeLeft / 60);
    const seconds = timeLeft % 60;
    timerElement.textContent = `Time remaining: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

    if (timeLeft <= 0) {
      clearInterval(interval);
      timerElement.textContent = 'Verification code has expired';
      timerElement.classList.add('text-red-600');
    }
    timeLeft--;
  }, 1000);
});
</script>

<style>
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  .pulse {
    animation: pulse 2s infinite;
  }
  .otp-code::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #e8f5e9, #fff, #e8f5e9);
    animation: shimmer 2s infinite;
  }
  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
</style>
{% endblock %}
